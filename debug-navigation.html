<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHADOWDEF - Debug Navigation</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/loading.css">
    <link rel="stylesheet" href="css/ui-components.css">
    <link rel="stylesheet" href="css/screens.css">
    <link rel="stylesheet" href="css/puzzles.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/auth.css">
    <link rel="stylesheet" href="css/password-training.css">
</head>
<body>
    <!-- Animated Background -->
    <canvas id="bg-canvas"></canvas>

    <!-- Main Game Container -->
    <div id="game-container" class="game-container">
        <!-- Loading Screen -->
        <div id="loading-screen" class="screen active">
            <div class="loading-container">
                <div class="logo-container">
                    <div class="logo-text">SHADOWDEF</div>
                    <div class="logo-subtitle">Hack the Invisible</div>
                </div>
                
                <div class="loading-progress">
                    <div class="progress-label">Loading Game Assets...</div>
                    <div class="progress-bar-bg">
                        <div class="progress-bar-fill" id="loading-progress-fill"></div>
                    </div>
                    <div class="progress-percentage" id="loading-percentage">0%</div>
                </div>
                
                <div class="loading-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>

        <!-- Main Menu -->
        <div id="main-menu" class="screen">
            <div class="main-menu-header">
                <div class="logo">SHADOWDEF</div>
                <div class="logo-subtitle">Cybersecurity Training Hub</div>
            </div>
            
            <div class="menu-grid">
                <div class="menu-category">
                    <h3 class="category-title">Training Missions</h3>
                    <div class="menu-cards">
                        <button class="menu-card missions-card" data-action="mission-select">
                            <div class="card-icon">üéØ</div>
                            <div class="card-content">
                                <div class="card-title">MISSIONS</div>
                                <div class="card-subtitle">Start your cybersecurity training</div>
                                <div class="card-progress" id="mission-progress">0/20 Completed</div>
                            </div>
                        </button>
                    </div>
                </div>

                <div class="menu-category">
                    <h3 class="category-title">Player Hub</h3>
                    <div class="menu-cards">
                        <button class="menu-card profile-card" data-action="profile">
                            <div class="card-icon">üë§</div>
                            <div class="card-content">
                                <div class="card-title">PROFILE</div>
                                <div class="card-subtitle">View stats and achievements</div>
                                <div class="card-stats" id="profile-stats">Level 1 ‚Ä¢ 0 Credits</div>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mission Categories Screen -->
        <div id="mission-select" class="screen">
            <button class="back-btn" data-action="back">‚Üê BACK</button>
            <div class="mission-header">
                <h2>TRAINING CATEGORIES</h2>
                <p class="subtitle">Choose your specialization</p>
            </div>
            <div class="category-grid">
                <div class="category-card" data-category="password">
                    <div class="category-icon">üîê</div>
                    <div class="category-content">
                        <div class="category-title">PASSWORD CRACKING</div>
                        <div class="category-subtitle">Master the art of password analysis and decryption</div>
                        <div class="category-progress" id="password-progress">0/3 Completed</div>
                        <div class="category-skills">
                            <span class="skill-tag">Pattern Recognition</span>
                            <span class="skill-tag">Cryptanalysis</span>
                            <span class="skill-tag">Brute Force</span>
                        </div>
                    </div>
                </div>

                <div class="category-card" data-category="malware">
                    <div class="category-icon">ü¶†</div>
                    <div class="category-content">
                        <div class="category-title">MALWARE DETECTION</div>
                        <div class="category-subtitle">Identify and neutralize malicious software threats</div>
                        <div class="category-progress" id="malware-progress">0/2 Completed</div>
                        <div class="category-skills">
                            <span class="skill-tag">Threat Analysis</span>
                            <span class="skill-tag">System Scanning</span>
                            <span class="skill-tag">Incident Response</span>
                        </div>
                    </div>
                </div>

                <div class="category-card" data-category="network">
                    <div class="category-icon">üåê</div>
                    <div class="category-content">
                        <div class="category-title">NETWORK & PHISHING</div>
                        <div class="category-subtitle">Navigate networks and detect social engineering</div>
                        <div class="category-progress" id="network-progress">0/7 Completed</div>
                        <div class="category-skills">
                            <span class="skill-tag">Network Analysis</span>
                            <span class="skill-tag">Phishing Detection</span>
                            <span class="skill-tag">Firewall Bypass</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Password Cracking Missions -->
        <div id="password-missions" class="screen">
            <button class="back-btn" data-action="back-to-categories">‚Üê BACK TO CATEGORIES</button>
            <div class="mission-header">
                <h2>PASSWORD SECURITY TRAINING</h2>
                <p class="subtitle">10-Level Cybersecurity Education Program</p>
            </div>
            
            <!-- Password Training Game Container -->
            <div id="password-training-container">
                <!-- Level Selection Screen -->
                <div class="password-level-selection" id="passwordLevelSelection">
                    <div class="levels-grid" id="passwordLevelsGrid">
                        <div class="password-level-card unlocked">
                            <div class="password-level-number">Level 1</div>
                            <div class="password-level-title">Password Basics</div>
                            <div class="password-level-topic">Weak vs Strong Passwords</div>
                            <div class="password-level-description">Learn to identify weak and strong passwords</div>
                            <div class="password-level-status">
                                <span class="password-status-text">Available</span>
                                <span class="password-status-icon password-play-icon">‚ñ∂</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Screen -->
        <div id="profile-screen" class="screen">
            <button class="back-btn" data-action="back">‚Üê BACK</button>
            <div class="mission-header">
                <h2>PLAYER PROFILE</h2>
                <p class="subtitle">Your cybersecurity training progress</p>
            </div>
            <div style="padding: 20px; text-align: center;">
                <h3>Profile functionality will be implemented here</h3>
            </div>
        </div>
    </div>

    <!-- Debug Console -->
    <div style="position: fixed; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.9); color: #0f0; padding: 10px; font-family: monospace; font-size: 12px; max-height: 200px; overflow-y: auto; z-index: 10000;" id="debug-console">
        <div style="color: #fff; margin-bottom: 5px;">üêõ Debug Console:</div>
        <div id="debug-log"></div>
    </div>

    <script>
        // Debug logging
        const debugLog = document.getElementById('debug-log');
        const originalConsoleLog = console.log;
        const originalConsoleError = console.error;
        
        console.log = function(...args) {
            originalConsoleLog.apply(console, args);
            debugLog.innerHTML += '<div style="color: #0f0;">' + args.join(' ') + '</div>';
            debugLog.scrollTop = debugLog.scrollHeight;
        };
        
        console.error = function(...args) {
            originalConsoleError.apply(console, args);
            debugLog.innerHTML += '<div style="color: #f00;">ERROR: ' + args.join(' ') + '</div>';
            debugLog.scrollTop = debugLog.scrollHeight;
        };
        
        console.log('üîß Debug navigation initialized');
        
        // Simple loading animation
        let progress = 0;
        const loadingInterval = setInterval(() => {
            progress += Math.random() * 15;
            if (progress >= 100) {
                progress = 100;
                clearInterval(loadingInterval);
                setTimeout(() => {
                    console.log('üé¨ Loading complete, showing main menu');
                    showScreen('main-menu');
                }, 500);
            }
            
            const progressFill = document.getElementById('loading-progress-fill');
            const progressText = document.getElementById('loading-percentage');
            if (progressFill) progressFill.style.width = progress + '%';
            if (progressText) progressText.textContent = Math.round(progress) + '%';
        }, 200);
        
        // Simple screen switching function
        function showScreen(screenId) {
            console.log('üì∫ Switching to screen: ' + screenId);
            
            // Hide all screens
            const screens = document.querySelectorAll('.screen');
            screens.forEach(screen => {
                screen.classList.remove('active');
                screen.style.display = 'none';
            });
            
            // Show target screen
            const targetScreen = document.getElementById(screenId);
            if (targetScreen) {
                targetScreen.classList.add('active');
                targetScreen.style.display = 'block';
                console.log('‚úÖ Screen switched to: ' + screenId);
                
                // Update body class for screen-specific styling
                document.body.className = 'screen-' + screenId;
            } else {
                console.error('‚ùå Screen not found: ' + screenId);
            }
        }
        
        // Setup event listeners
        document.addEventListener('click', (e) => {
            const btn = e.target.closest('[data-action]');
            if (btn) {
                const action = btn.dataset.action;
                console.log('üñ±Ô∏è Button clicked with action: ' + action);
                
                switch (action) {
                    case 'mission-select':
                        showScreen('mission-select');
                        break;
                    case 'back-to-categories':
                        showScreen('mission-select');
                        break;
                    case 'back':
                        showScreen('main-menu');
                        break;
                    case 'profile':
                        showScreen('profile-screen');
                        break;
                    default:
                        console.log('‚ö†Ô∏è Unknown action: ' + action);
                }
            }
            
            // Handle category selection
            const categoryCard = e.target.closest('[data-category]');
            if (categoryCard) {
                const category = categoryCard.dataset.category;
                console.log('üéØ Category selected: ' + category);
                
                if (category === 'password') {
                    showScreen('password-missions');
                } else {
                    console.log('‚ö†Ô∏è Category not implemented: ' + category);
                }
            }
        });
        
        console.log('‚úÖ Event listeners setup complete');
    </script>
</body>
</html>